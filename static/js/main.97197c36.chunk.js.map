{"version":3,"sources":["components/results.tsx","components/question.tsx","components/exo.tsx","exos/pokemon.tsx","exos/concours.tsx","exos/pays.tsx","exos/metro.tsx","exos/cac40.tsx","exos/boulangerie.tsx","exos/exos.tsx","App.tsx","index.tsx"],"names":["columns","values","Paper","elevation","sx","width","TableContainer","maxHeight","Table","size","stickyHeader","TableHead","TableRow","map","columnName","i","TableCell","align","fontWeight","fontSize","TableBody","row","hover","role","tabIndex","value","equal","require","round_floats","a","x","y","Math","round","name","db","question","answer","useState","request","setRequest","result","setResult","expected","setExpected","verdict","setVerdict","error","setError","open","setOpen","handleClose","_","reason","action","Fragment","IconButton","color","onClick","severity","message","Box","mb","Snackbar","autoHideDuration","Alert","onClose","Grid","container","justifyContent","alignItems","m","spacing","item","xs","border","p","height","defaultLanguage","onChange","e","options","lineNumbers","minimap","enabled","Button","variant","exec","r","length","err","console","log","direction","md","Typography","exo","page","setPage","setDb","useEffect","sqlPromise","initSqlJs","locateFile","sqlWasm","dataPromise","fetch","db_url","then","res","text","Promise","all","SQL","buf","Database","description","sm","borderLeft","borderColor","padding","diagram","src","Divider","Pagination","siblingCount","questions","count","v","style","display","answers","exo_pokemon","exo_pokemon_group","exo_concours","href","exo_concours_group","exo_concours_nested","exo_pays","exo_metro","exo_cac40","exo_cac40_join","exo_cac40_group","exo_boulangerie","cours","url","exos","HomeIcon","props","SvgIcon","d","drawerWidth","App","window","React","mobileOpen","setMobileOpen","selectedExo","setSelectedExo","handleDrawerToggle","undefined","document","body","exercise","ListItem","disablePadding","ListItemButton","disableRipple","selected","drawer","List","c","ListItemText","primary","main","CssBaseline","AppBar","position","ml","Toolbar","edge","mr","noWrap","component","flexShrink","Drawer","ModalProps","keepMounted","boxSizing","flexGrow","getElementById","createRoot","render","StrictMode"],"mappings":"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CrCxG,KAAM,OACNkF,YACE,+GAA8E,uBAAM,uBACpF,yDADA,KACoC,kDADpC,KACiE,8CADjE,OAC4F,kDAD5F,4BACgJ,yDADhJ,uEACgP,uBAAM,uBACtP,mBAAGmB,KAAK,yCAAR,0BAFA,OAIF5B,OACE,yEACFc,QAAS,2BACTK,UAAW,CACT,+DACA,6EACA,uFACA,oFACA,0EACA,2IACA,0IAEFK,QAAS,CACP,4CACA,4DACA,yDACA,8DACA,qFACA,oGACA,oHCzBSQ,EAA2B,CACtCzG,KAAM,oBACNkF,YACE,eAACjD,EAAA,EAAD,0DAC2C,yCAD3C,kFAGE,+BACE,+BACE,2CADF,0BAGA,+BACE,0CADF,MACwB,8CADxB,OACgD,4CAEhD,+BACE,0CADF,oCAGA,+BACE,yCADF,qCACuD,IACrD,2CAFF,OAIA,+BACE,kDADF,gEASF,mBAAGoE,KAAK,yDAAR,gCA1BF,OA6BF5B,OACE,uFACFc,QAAS,2BACTK,UAAW,CACT,gCACA,8CACA,mEACA,kEACA,qHACA,4EAIFK,QAAS,CACP,4BACA,kDACA,wEACA,qFACA,gFACA,mECpDSS,EAA2B,CACtC1G,KAAM,SACNkF,YACE,qJAC2G,uBAAM,uBAC/G,4CAFF,8FAEsG,uBACpG,yCAHF,mIAGqI,uBAAM,uBAH3I,yCAIwC,uBAJxC,MAKK,4CALL,0DAKqE,uBALrE,MAMK,6DANL,yCAM8E,uBAAM,uBAClF,mBAAGmB,KAAK,6BAAR,2DAPF,OAUF5B,OAAQ,2EACRc,QAAS,2BACTK,UAAW,CACT,gEACA,8CACA,0GACA,sFACA,4KACA,oFACA,2GACA,kFACA,2EAEFK,QAAS,CACP,uCACA,qDACA,uFACA,8IACA,8LACA,0MACA,oLACA,+JACA,8FAISU,EAA6B,2BACrCD,GADqC,IAExCd,UAAW,CACT,yEACA,sFACA,iGACA,kFACA,8FACA,6FACA,iFACA,iHAEFK,QAAS,CACP,qHACA,oIACA,2IACA,gIACA,2JACA,qQACA,oMACA,kMAISW,EAA8B,2BACtCF,GADsC,IAEzCd,UAAW,CACT,gDACA,iGACA,iGACA,yGAEFK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","file":"static/js/main.97197c36.chunk.js","sourcesContent":["import Paper from \"@mui/material/Paper\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableContainer from \"@mui/material/TableContainer\";\nimport TableHead from \"@mui/material/TableHead\";\nimport TableRow from \"@mui/material/TableRow\";\n\n/**\n * Renders a single value of the array returned by db.exec(...) as a table\n */\nexport default ({ columns, values }): JSX.Element => {\n    return (\n        <Paper elevation={3} sx={{ width: \"100%\" }}>\n            <TableContainer sx={{ maxHeight: 250 }}>\n                <Table size=\"small\" stickyHeader aria-label=\"sticky table\">\n                    <TableHead>\n                        <TableRow>\n                            {columns.map((columnName, i) => (\n                                <TableCell\n                                    align=\"center\"\n                                    sx={{ fontWeight: \"bold\", fontSize: 16 }}\n                                    key={i}\n                                >\n                                    {columnName}\n                                </TableCell>\n                            ))}\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {values.map((row, i) => {\n                            return (\n                                <TableRow hover role=\"checkbox\" tabIndex={-1} key={i}>\n                                    {row.map((value, i) => {\n                                        return (\n                                            <TableCell align=\"center\" key={i}>\n                                                {value}\n                                            </TableCell>\n                                        );\n                                    })}\n                                </TableRow>\n                            );\n                        })}\n                    </TableBody>\n                </Table>\n            </TableContainer>\n        </Paper>\n    );\n}\n","import Editor from \"@monaco-editor/react\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport { Alert, AlertColor } from \"@mui/material\";\nimport Box from \"@mui/material/Box\";\nimport Button from \"@mui/material/Button\";\nimport Grid from \"@mui/material/Grid\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Snackbar from \"@mui/material/Snackbar\";\nimport Typography from \"@mui/material/Typography\";\nimport React, { useState } from \"react\";\nimport ResultsTable from \"./results\";\n\nvar equal = require(\"fast-deep-equal/es6/react\");\n\nfunction round_floats(a: number[][]) {\n    return a.map((x) => x.map((y) => (typeof y === \"number\" ? Math.round(y * 100) / 100 : y)));\n}\n\nexport default ({ name, db, question, answer }): JSX.Element => {\n    const [request, setRequest] = useState(\"\");\n    const [result, setResult] = useState<null | any[]>(null);\n    const [expected, setExpected] = useState<null | any[]>(null);\n    const [verdict, setVerdict] = useState(0);\n    const [error, setError] = useState(null);\n    const [open, setOpen] = useState(false);\n\n    const handleClose = (_: React.SyntheticEvent | Event, reason?: string) => {\n        if (reason === \"clickaway\") {\n            return;\n        }\n        setOpen(false);\n    };\n\n    const action = (\n        <React.Fragment>\n            <IconButton\n                size=\"small\"\n                aria-label=\"close\"\n                color=\"inherit\"\n                onClick={handleClose}\n            >\n                <CloseIcon fontSize=\"small\" />\n            </IconButton>\n        </React.Fragment>\n    );\n    let severity: AlertColor = \"success\";\n    let message = \"Correct !\";\n    if (error) {\n        severity = \"error\";\n        message = \"Erreur : \" + error;\n    }\n    else if (verdict === 0) {\n        severity = \"warning\";\n        message = \"Mauvais résultat.\";\n    }\n    return (\n        <Box mb={4} key={name}>\n            <Snackbar open={open} autoHideDuration={6000} action={action}>\n                <Alert onClose={handleClose} severity={severity} sx={{ width: '100%' }}>\n                    {message}\n                </Alert>\n            </Snackbar>\n            <Grid container justifyContent=\"center\" alignItems=\"center\" sx={{ m: 2, fontWeight: 'bold' }}>\n                {question}\n                <Grid\n                    spacing={2}\n                    mb={5}\n                    container\n                    justifyContent=\"center\"\n                    alignItems=\"center\"\n                >\n                    <Grid item xs={10}>\n                        <Box sx={{ border: 1, width: \"100%\" }} p={0.5}>\n                            <Editor\n                                height=\"13vh\"\n                                defaultLanguage=\"sql\"\n                                onChange={(e) => setRequest(e)}\n                                options={{\n                                    lineNumbers: \"off\",\n                                    minimap: {\n                                        enabled: false,\n                                    },\n                                }}\n                            />\n                        </Box>\n                    </Grid>\n                    <Grid item>\n                        <Button\n                            size=\"large\"\n                            variant=\"contained\"\n                            color=\"success\"\n                            onClick={() => {\n                                setOpen(false);\n                                try {\n                                    let expected = db.exec(answer);\n                                    let r = db.exec(request);\n                                    setResult(r);\n                                    setExpected(expected);\n                                    if (r.length === 0)\n                                        setVerdict(0);\n                                    else\n                                        setVerdict(equal(round_floats(r[0].values), round_floats(expected[0].values)) ? 1 : 0);\n                                    setError(null);\n                                } catch (err) {\n                                    console.log(err);\n                                    setError(err.message);\n                                }\n                                setOpen(true);\n                            }}\n                        >\n                            Valider\n                        </Button>\n                    </Grid>\n                </Grid>\n                <Grid container justifyContent=\"center\" alignItems=\"center\" spacing={2} direction=\"row\">\n                    {result && (\n                        <Grid item md={5.5} xs={12}>\n                            <Typography align=\"center\">\n                                {result.map(({ columns, values }) => (\n                                    <ResultsTable columns={columns} values={values} />\n                                ))}<br />\n                                Résultat de votre requête\n                            </Typography>\n                        </Grid>\n                    )}\n                    {expected && (\n                        <Grid item md={5.5} xs={12}>\n                            <Typography align=\"center\">\n                                {expected.map(({ columns, values }) => (\n                                    <ResultsTable columns={columns} values={values} />\n                                ))}<br />\n                                Résultat attendu\n                            </Typography>\n                        </Grid>\n                    )}\n                </Grid>\n            </Grid>\n        </Box>\n    );\n};\n","import { useEffect, useState } from \"react\";\nimport initSqlJs from \"sql.js\";\nimport { Exo_interface } from \"../exos/exos\";\n// @ts-ignore\nimport sqlWasm from \"!!file-loader?name=sql-wasm-[contenthash].wasm!sql.js/dist/sql-wasm.wasm\";\nimport { Grid } from \"@mui/material\";\nimport Box from \"@mui/material/Box\";\nimport Divider from '@mui/material/Divider';\nimport Pagination from '@mui/material/Pagination';\nimport Question from \"./question\";\n\nexport default (exo: Exo_interface): JSX.Element => {\n    const [page, setPage] = useState(1);\n    const [db, setDb] = useState<any>(null);\n    useEffect(() => {\n        (async () => {\n            const sqlPromise = initSqlJs({\n                locateFile: () => sqlWasm,\n            });\n            const dataPromise = fetch(exo.db_url).then((res) => res.text());\n            const [SQL, buf] = await Promise.all([sqlPromise, dataPromise]);\n            const db = new SQL.Database();\n            db.exec(buf);\n            setDb(db);\n        })();\n    }, []);\n    \n    return (\n        <div key={exo.name}>\n            <Grid container justifyContent=\"center\" alignItems=\"center\">\n                {exo.description && <Grid item sm={4} xs={12}>\n                    <Box sx={{ borderLeft: 2.5, borderColor: \"gray\", padding: 2 }}>\n                        {exo.description}\n                    </Box>\n                </Grid>\n                }\n                <Grid item sm={8} xs={12}>\n                    {exo.diagram && <iframe width=\"100%\" height=\"450\" src={\"https://dbdiagram.io/embed/\" + exo.diagram} />}\n                </Grid>\n            </Grid>\n            <Divider sx={{ m: 2 }} />\n            <Grid container justifyContent=\"center\" alignItems=\"center\">\n                <Pagination siblingCount={exo.questions.length} count={exo.questions.length} page={page} onChange={(_, v) => { setPage(v) }} />\n            </Grid>\n            {exo.questions.map((_, i) =>\n                <div style={{ display: i + 1 === page ? \"block\" : \"none\" }}>\n                    <Question\n                        name={exo.name}\n                        db={db}\n                        question={exo.questions[i]}\n                        answer={exo.answers[i]}\n                    />\n                </div>\n            )}\n\n        </div>\n    );\n};\n","import { Exo_interface } from \"./exos\";\n\nexport const exo_pokemon: Exo_interface = {\n  name: \"Pokémon\",\n  description: (\n    <div>Base de données contenant les pokémons de la 1ère génération.</div>\n  ),\n  db_url:\n    \"https://raw.githubusercontent.com/fortierq/datasets/main/pokemon/pokemon.sql\",\n  diagram: \"62853fe17f945876b6459548\",\n  questions: [\n    \"Calculer le nombre de pokémons.\",\n    \"Afficher le nom de chaque pokémon avec son niveau d'évolution.\",\n    \"Afficher les pokémons détenus par Pierre.\",\n    \"Afficher le nom de chaque attaque avec son type.\",\n    \"Afficher chaque dresseur avec chacun de ses pokémons.\",\n    \"Afficher chaque pokémon avec son évolution et son niveau d'évolution.\",\n  ],\n  answers: [\n    \"SELECT count(*) FROM pokemons;\",\n    \"select nom, niveau from evolue_en join pokemons on id = pokemon_base_id\",\n    \"SELECT pokemons.nom FROM pokemons JOIN detient_pokemons ON pokemons.id = pokemon_id JOIN dresseurs ON dresseurs.id = dresseur_id WHERE dresseurs.nom = 'Pierre'\",\n    \"select attaques.libelle, types.libelle from types join attaques on types.id = type_id\",\n    \"select dresseurs.nom, pokemons.nom from pokemons join detient_pokemons on pokemons.id = pokemon_id join dresseurs on dresseurs.id = dresseur_id\",\n    \"select pokemons.nom, pokemons_evol.nom, niveau from evolue_en join pokemons on pokemon_base_id = pokemons.id join pokemons as pokemons_evol on pokemon_evol_id = pokemons_evol.id\",\n  ],\n};\n\nexport const exo_pokemon_group = {\n    ...exo_pokemon, \n    questions: [\n        \"Afficher chaque dresseur avec son nombre de pokémons et leur niveau moyen.\",\n        \"Afficher les dresseurs qui possèdent au moins 4 pokémons de niveau au moins 50.\"\n    ],\n    answers: [\n        \"select nom, count(*) as nombre_pokemons, avg(niveau) as niveau_moyen from dresseurs join detient_pokemons on id = dresseur_id group by nom\",\n        \"select nom, count(*) from dresseurs join detient_pokemons on id = dresseur_id where niveau >= 50 group by nom having count(*) > 3\"\n    ],\n}\n","import { Exo_interface } from \"./exos\";\n\nexport const exo_concours: Exo_interface = {\n    name: \"Concours\",\n    description: (\n        <div>Statistiques partielles sur les concours des écoles d'ingénieurs en 2022. <br /> <a href=\"https://www.scei-concours.fr/statistiques.php\">Source : SCEI</a>. </div>\n    ),\n    db_url:\n        \"https://raw.githubusercontent.com/fortierq/datasets/main/concours/concours.sql\",\n    diagram: \"642ec2708615191cfa8bf1a2\",\n    questions: [\n        \"Afficher les noms des concours dans la base de données.\",\n        \"Afficher les épreuves à l'écrit de cmp (Concours Mines-Ponts) : filière, matière, durée et coefficient.\",\n        \"Donner le coefficient total des mathématiques au concours ccinp.\",\n    ],\n    answers: [\n        \"select distinct nom from concours;\",\n        \"SELECT filiere, matiere, duree, coefficient FROM epreuve JOIN concours ON concours_id=concours.id JOIN epreuve_matiere ON epreuve_id=epreuve.id WHERE concours.nom = 'cmp' AND NOT oral\",\n        \"SELECT SUM(coefficient) as 'coefficient des mathématiques' FROM epreuve JOIN concours ON concours_id=concours.id JOIN epreuve_matiere ON epreuve_id=epreuve.id WHERE concours.nom='ccinp' AND matiere='mathématiques';\",\n    ],\n};\n\nexport const exo_concours_group = {\n    ...exo_concours,\n    questions: [\n        \"Afficher le coefficient total de chaque matière pour la filière mpi du concours ccinp.\",\n        \"Pour chaque concours, afficher le nom, la filière, le nombre d'épreuves écrites et leur durée totale.\",\n    ],\n    answers: [\n        \"SELECT matiere, SUM(coefficient) as 'coefficient total' FROM epreuve JOIN concours ON concours_id=concours.id JOIN epreuve_matiere ON epreuve_id=epreuve.id WHERE concours.nom='ccinp' AND filiere = 'mpi' GROUP BY matiere;\",\n        \"SELECT concours.nom, filiere, COUNT(*) as 'nombre épreuves', SUM(duree) as 'durée totale' FROM epreuve JOIN concours ON concours_id=concours.id WHERE NOT oral GROUP BY concours_id;\",\n    ],\n}\n\nexport const exo_concours_nested = {\n    ...exo_concours,\n    questions: [\n        \"Donner le poids de chaque matière en filière mp du concours ccinp, en pourcentage.\",\n    ],\n    answers: [\n        \"SELECT matiere, SUM(coefficient) * 100 / (SELECT SUM(coefficient) FROM epreuve JOIN concours ON concours_id=concours.id JOIN epreuve_matiere ON epreuve_id=epreuve.id WHERE concours.nom='ccinp' AND filiere='mp') as 'poids en pourcentage' FROM epreuve JOIN concours ON concours_id=concours.id JOIN epreuve_matiere ON epreuve_id=epreuve.id WHERE concours.nom='ccinp' AND filiere='mp' GROUP BY matiere;\",\n        \"SELECT matiere, (SUM(coefficient) * 100 / (SELECT SUM(coefficient) FROM epreuve JOIN concours ON concours_id=concours.id JOIN epreuve_matiere ON epreuve_id=epreuve.id WHERE concours.nom='ccinp' AND filiere='mp') as 'poids en pourcentage' FROM epreuve JOIN concours ON concours_id=concours.id JOIN epreuve_matiere ON epreuve_id=epreuve.id WHERE concours.nom='ccinp' AND filiere='mp' GROUP BY matiere;\",\n    ],\n}","import { Exo_interface } from \"./exos\";\n\nexport const exo_pays: Exo_interface = {\n  name: \"Pays\",\n  description: (\n    <div>Base de données contenant les pays du monde et leurs populations en 2015.<br /><br />\n    <code>croissance_population</code>, <code>taux_naissance</code>, <code>taux_deces</code> et <code>taux_migration</code> sont en pourcentage (si <code>croissance_population</code> vaut 2% alors la population a augmenté de 2% durant l'année).<br /><br />\n    <a href=\"https://www.cia.gov/the-world-factbook\">Source : CIA</a>.</div>\n  ),\n  db_url:\n    \"https://raw.githubusercontent.com/fortierq/datasets/main/pays/pays.sql\",\n  diagram: \"642c778b5758ac5f1726bc6c\",\n  questions: [\n    \"Afficher le nom, la population et la surface de chaque pays.\",\n    \"Afficher le nom et la population des pays ayant moins de 2000 d'habitants.\",\n    \"Afficher les pays dont le taux de naissance est inférieur au taux de décès.\",\n    \"Afficher la population totale sur Terre, en milliards. On pourra diviser par 1e9.\",\n    \"Afficher le nombre total de naissances sur Terre en 2015, en milliards.\",\n    \"Afficher les 10 pays de plus de 5 millions d'habitants ayant eu le plus fort taux de migration. On affichera aussi le taux de migration.\",\n    \"Afficher les 10 pays d'au moins 5 millions d'habitants ayant la plus forte densité de population. On affichera aussi la densité.\",\n  ],\n  answers: [\n    \"SELECT nom, population, surface FROM pays\",\n    \"SELECT nom, population FROM pays WHERE population <= 2000\",\n    \"select nom from pays where taux_naissance < taux_deces\",\n    \"select sum(population)/1e9 as 'population totale' from pays\",\n    \"select sum(population*taux_naissance/100.)/1e9 as 'nombre de naissances' from pays\",\n    \"select nom, taux_migration from pays where population > 5e6 order by taux_migration desc limit 10\",\n    \"select nom, population/surface as densité from pays where population > 5e6 order by densité desc limit 10\",\n  ],\n};\n","import { Exo_interface } from \"./exos\";\nimport Grid from \"@mui/material/Grid\";\n\nexport const exo_metro: Exo_interface = {\n  name: \"Métro parisien\",\n  description: (\n    <Grid>\n      Cette base de données contient une table <code>metro</code> contenant les\n      stations de métro et RER parisiennes. Attributs de la table :\n      <ul>\n        <li>\n          <code>station</code> : nom de la station\n        </li>\n        <li>\n          <code>reseau</code> : <code>'Métro'</code> ou <code>'Rer'</code>\n        </li>\n        <li>\n          <code>trafic</code> : nombre de passagers en 2021\n        </li>\n        <li>\n          <code>ville</code> : ville de la station (exemples :{\" \"}\n          <code>'Paris'</code>)\n        </li>\n        <li>\n          <code>arrondissement</code> : arrondissement de la station (uniquement\n          pour Paris)\n        </li>\n        {/* <li>\n          <code>correspondance_1</code> à <code>correspondance_5</code> : lignes\n          de métro/RER passant par la station\n        </li> */}\n      </ul>\n      <a href=\"https://www.data.gouv.fr/fr/datasets/stations-de-metro\">Source : data.gouv</a>.\n    </Grid>\n  ),\n  db_url:\n    \"https://raw.githubusercontent.com/fortierq/datasets/main/metro_paris/metro_paris.sql\",\n  diagram: \"630e18a30911f91ba5f92ffa\",\n  questions: [\n    \"Afficher toutes les stations.\",\n    \"Afficher les stations de la ville de Massy.\",\n    \"Afficher les stations de RER du 5ème arrondissement de Paris.\",\n    \"Combien y a-t-il eu de passagers dans la ville de Saint Denis ?\",\n    \"Afficher le nom et la ville de toutes les stations en dehors de Paris avec un trafic supérieur à 10 millions\",\n    \"Afficher la station et le trafic de la station la plus fréquentée.\",\n    \n    // \"Afficher chaque arrondissement avec son nombre de stations de métro.\",\n  ],\n  answers: [\n    \"SELECT station FROM metro\",\n    \"SELECT station FROM metro WHERE ville = 'Massy'\",\n    \"SELECT station FROM metro WHERE arrondissement = 5 AND reseau = 'Rer'\",\n    \"SELECT SUM(trafic) as 'Nombre de passagers' FROM metro WHERE ville = 'Saint Denis'\",\n    \"SELECT station, ville FROM metro WHERE ville != 'Paris' AND trafic > 10000000\",\n    \"SELECT station, trafic FROM metro ORDER BY trafic DESC LIMIT 1\",\n    // \"SELECT arrondissement, COUNT(*) FROM metro GROUP BY arrondissement\",\n  ],\n};\n","import { Exo_interface } from \"./exos\";\n\nexport const exo_cac40: Exo_interface = {\n  name: \"CAC 40\",\n  description: (\n    <div>\n      Base de données contenant les entreprises du CAC 40 et leurs données financières historiques (2019-2024).<br /><br />\n      <b>Entreprises</b> : informations générales sur chaque entreprise (nom, secteur, nombre d'employés).<br />\n      <b>Finances</b> : données financières annuelles (chiffre d'affaires, bénéfice, dette, dividende, capitalisation, capitaux propres).<br /><br />\n      Les montants sont en millions d'euros.<br />\n      La <b>marge nette</b> = bénéfice / chiffre d'affaires × 100 (en %).<br />\n      Le <b>ratio dette/capitaux propres</b> mesure l'endettement de l'entreprise.<br /><br />\n      <a href=\"https://www.boursorama.com\">Source : données publiques des entreprises</a>.\n    </div>\n  ),\n  db_url: \"https://raw.githubusercontent.com/fortierq/datasets/main/cac40/cac40.sql\",\n  diagram: \"6962c115d6e030a024a8eb65\",\n  questions: [\n    \"Afficher le nom et le secteur de chaque entreprise du CAC 40.\",\n    \"Afficher les entreprises du secteur 'Luxe'.\",\n    \"Afficher le chiffre d'affaires total de toutes les entreprises du CAC 40 en 2023, en milliards d'euros.\",\n    \"Afficher les 5 entreprises ayant réalisé le plus gros bénéfice en 2023.\",\n    \"Afficher le nom et la marge nette (bénéfice/chiffre d'affaires × 100) des entreprises en 2023, triées par marge décroissante. Limiter aux 10 premières.\",\n    \"Afficher les entreprises dont le bénéfice a augmenté entre 2022 et 2023.\",\n    \"Afficher le chiffre d'affaires moyen par secteur en 2023, trié par chiffre d'affaires décroissant.\",\n    \"Afficher les entreprises dont la dette dépasse les capitaux propres en 2023.\",\n    \"Afficher l'évolution du bénéfice total du CAC 40 par année.\",\n  ],\n  answers: [\n    \"SELECT nom, secteur FROM entreprises\",\n    \"SELECT nom FROM entreprises WHERE secteur = 'Luxe'\",\n    \"SELECT SUM(chiffre_affaires) / 1000 AS ca_milliards FROM finances WHERE annee = 2023\",\n    \"SELECT e.nom, f.benefice FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE f.annee = 2023 ORDER BY f.benefice DESC LIMIT 5\",\n    \"SELECT e.nom, (f.benefice * 100.0 / f.chiffre_affaires) AS marge_nette FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE f.annee = 2023 ORDER BY marge_nette DESC LIMIT 10\",\n    \"SELECT e.nom FROM entreprises e JOIN finances f22 ON e.id = f22.entreprise_id JOIN finances f23 ON e.id = f23.entreprise_id WHERE f22.annee = 2022 AND f23.annee = 2023 AND f23.benefice > f22.benefice\",\n    \"SELECT e.secteur, AVG(f.chiffre_affaires) AS ca_moyen FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE f.annee = 2023 GROUP BY e.secteur ORDER BY ca_moyen DESC\",\n    \"SELECT e.nom, f.dette, f.capitaux_propres FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE f.annee = 2023 AND f.dette > f.capitaux_propres\",\n    \"SELECT annee, SUM(benefice) AS benefice_total FROM finances GROUP BY annee ORDER BY annee\",\n  ],\n};\n\nexport const exo_cac40_join: Exo_interface = {\n  ...exo_cac40,\n  questions: [\n    \"Afficher le nom et le chiffre d'affaires de chaque entreprise en 2024.\",\n    \"Afficher le nom des entreprises du secteur 'Luxe' avec leur bénéfice en 2024.\",\n    \"Afficher le nom et la capitalisation des entreprises ayant plus de 100000 employés en 2024.\",\n    \"Afficher les entreprises dont le bénéfice a été négatif en 2024.\",\n    \"Afficher le nom, secteur et dividende des 5 entreprises avec le meilleur dividende en 2024.\",\n    \"Afficher les entreprises du secteur 'Banque' avec leur chiffre d'affaires en 2023 et 2024.\",\n    \"Afficher le nom des entreprises dont la dette a diminué entre 2023 et 2024.\",\n    \"Afficher le nom et le ratio dette/capitaux_propres des entreprises en 2024, trié par ratio décroissant.\",\n  ],\n  answers: [\n    \"SELECT e.nom, f.chiffre_affaires FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE f.annee = 2024\",\n    \"SELECT e.nom, f.benefice FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE e.secteur = 'Luxe' AND f.annee = 2024\",\n    \"SELECT e.nom, f.capitalisation FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE e.employes > 100000 AND f.annee = 2024\",\n    \"SELECT e.nom, f.benefice FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE f.annee = 2024 AND f.benefice < 0\",\n    \"SELECT e.nom, e.secteur, f.dividende FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE f.annee = 2024 ORDER BY f.dividende DESC LIMIT 5\",\n    \"SELECT e.nom, f23.chiffre_affaires AS ca_2023, f24.chiffre_affaires AS ca_2024 FROM entreprises e JOIN finances f23 ON e.id = f23.entreprise_id JOIN finances f24 ON e.id = f24.entreprise_id WHERE e.secteur = 'Banque' AND f23.annee = 2023 AND f24.annee = 2024\",\n    \"SELECT e.nom FROM entreprises e JOIN finances f23 ON e.id = f23.entreprise_id JOIN finances f24 ON e.id = f24.entreprise_id WHERE f23.annee = 2023 AND f24.annee = 2024 AND f24.dette < f23.dette\",\n    \"SELECT e.nom, (f.dette * 1.0 / f.capitaux_propres) AS ratio FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE f.annee = 2024 AND f.capitaux_propres > 0 ORDER BY ratio DESC\",\n  ],\n};\n\nexport const exo_cac40_group: Exo_interface = {\n  ...exo_cac40,\n  questions: [\n    \"Afficher le nombre d'entreprises par secteur.\",\n    \"Afficher le secteur ayant généré le plus de bénéfices cumulés sur 2019-2024.\",\n    \"Afficher les entreprises ayant eu un bénéfice positif chaque année de 2019 à 2024.\",\n    \"Afficher le ratio moyen dette/capitaux propres par secteur en 2023, trié par ratio décroissant.\",\n  ],\n  answers: [\n    \"SELECT secteur, COUNT(*) AS nb_entreprises FROM entreprises GROUP BY secteur\",\n    \"SELECT e.secteur, SUM(f.benefice) AS benefice_total FROM entreprises e JOIN finances f ON e.id = f.entreprise_id GROUP BY e.secteur ORDER BY benefice_total DESC LIMIT 1\",\n    \"SELECT e.nom FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE f.benefice > 0 GROUP BY e.nom HAVING COUNT(*) = 6\",\n    \"SELECT e.secteur, AVG(f.dette * 1.0 / f.capitaux_propres) AS ratio_dette FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE f.annee = 2023 AND f.capitaux_propres > 0 GROUP BY e.secteur ORDER BY ratio_dette DESC\",\n  ],\n};\n","import { Exo_interface } from \"./exos\";\n\nexport const exo_boulangerie: Exo_interface = {\n  name: \"Boulangerie\",\n  description: (\n    <div>\n      Base de données d'une chaîne de boulangeries.<br /><br />\n      <b>Boulangeries</b> : les différentes boulangeries (nom, ville, nombre d'employés).<br />\n      <b>Pâtisseries</b> : les produits vendus (nom, prix en euros, calories).<br />\n      <b>Clients</b> : les clients enregistrés (nom, prénom, ville).<br />\n      <b>Commandes</b> : les achats effectués (client, boulangerie, pâtisserie, quantité, date).\n    </div>\n  ),\n  db_url: \"https://raw.githubusercontent.com/fortierq/datasets/main/boulangerie/boulangerie.sql\",\n  diagram: \"6962cb2cd6e030a024a929d6\",\n  questions: [\n    \"Afficher le nom et la ville de chaque boulangerie.\",\n    \"Afficher les pâtisseries coûtant moins de 3 euros.\",\n    \"Afficher les pâtisseries triées par calories décroissantes.\",\n    \"Afficher les clients habitant à Paris.\",\n    \"Afficher les boulangeries ayant plus de 5 employés.\",\n  ],\n  answers: [\n    \"SELECT nom, ville FROM boulangeries\",\n    \"SELECT nom, prix FROM patisseries WHERE prix < 3\",\n    \"SELECT nom, calories FROM patisseries ORDER BY calories DESC\",\n    \"SELECT nom, prenom FROM clients WHERE ville = 'Paris'\",\n    \"SELECT nom, employes FROM boulangeries WHERE employes > 5\",\n  ],\n};\n\nexport const exo_boulangerie_join: Exo_interface = {\n  ...exo_boulangerie,\n  name: \"Boulangerie\",\n  questions: [\n    \"Afficher le prénom du client et le nom de la pâtisserie pour chaque commande.\",\n    \"Afficher les commandes passées dans des boulangeries de Paris (nom du client, nom de la boulangerie).\",\n    \"Afficher le nom des clients ayant commandé des croissants.\",\n    \"Afficher le nom des pâtisseries commandées à la boulangerie 'Au Pain Doré'.\",\n    \"Afficher les clients ayant commandé dans une boulangerie de leur propre ville.\",\n    \"Afficher le nom du client, la pâtisserie et le prix total (prix × quantité) pour chaque commande.\",\n    \"Afficher les pâtisseries jamais commandées.\",\n    \"Afficher le nom des clients ayant commandé des pâtisseries à plus de 400 calories.\",\n  ],\n  answers: [\n    \"SELECT cl.prenom, p.nom FROM commandes co JOIN clients cl ON co.client_id = cl.id JOIN patisseries p ON co.patisserie_id = p.id\",\n    \"SELECT cl.nom, b.nom FROM commandes co JOIN clients cl ON co.client_id = cl.id JOIN boulangeries b ON co.boulangerie_id = b.id WHERE b.ville = 'Paris'\",\n    \"SELECT DISTINCT cl.nom FROM commandes co JOIN clients cl ON co.client_id = cl.id JOIN patisseries p ON co.patisserie_id = p.id WHERE p.nom = 'Croissant'\",\n    \"SELECT DISTINCT p.nom FROM commandes co JOIN boulangeries b ON co.boulangerie_id = b.id JOIN patisseries p ON co.patisserie_id = p.id WHERE b.nom = 'Au Pain Doré'\",\n    \"SELECT DISTINCT cl.nom, cl.prenom FROM commandes co JOIN clients cl ON co.client_id = cl.id JOIN boulangeries b ON co.boulangerie_id = b.id WHERE cl.ville = b.ville\",\n    \"SELECT cl.nom, p.nom, p.prix * co.quantite AS total FROM commandes co JOIN clients cl ON co.client_id = cl.id JOIN patisseries p ON co.patisserie_id = p.id\",\n    \"SELECT p.nom FROM patisseries p LEFT JOIN commandes co ON p.id = co.patisserie_id WHERE co.id IS NULL\",\n    \"SELECT DISTINCT cl.nom FROM commandes co JOIN clients cl ON co.client_id = cl.id JOIN patisseries p ON co.patisserie_id = p.id WHERE p.calories > 400\",\n  ],\n};\n\nexport const exo_boulangerie_group: Exo_interface = {\n  ...exo_boulangerie,\n  name: \"Boulangerie\",\n  questions: [\n    \"Afficher le nombre de boulangeries par ville.\",\n    \"Afficher le nombre total de commandes par client (nom du client et nombre de commandes).\",\n    \"Afficher le chiffre d'affaires total par boulangerie (nom et total).\",\n    \"Afficher la pâtisserie la plus commandée (nom et quantité totale).\",\n    \"Afficher le nombre de calories moyen des pâtisseries commandées par chaque client.\",\n    \"Afficher les villes ayant au moins 2 boulangeries.\",\n  ],\n  answers: [\n    \"SELECT ville, COUNT(*) AS nb FROM boulangeries GROUP BY ville\",\n    \"SELECT cl.nom, COUNT(*) AS nb_commandes FROM commandes co JOIN clients cl ON co.client_id = cl.id GROUP BY cl.id, cl.nom\",\n    \"SELECT b.nom, SUM(p.prix * co.quantite) AS total FROM commandes co JOIN boulangeries b ON co.boulangerie_id = b.id JOIN patisseries p ON co.patisserie_id = p.id GROUP BY b.id, b.nom\",\n    \"SELECT p.nom, SUM(co.quantite) AS total FROM commandes co JOIN patisseries p ON co.patisserie_id = p.id GROUP BY p.id, p.nom ORDER BY total DESC LIMIT 1\",\n    \"SELECT cl.nom, AVG(p.calories) AS calories_moy FROM commandes co JOIN clients cl ON co.client_id = cl.id JOIN patisseries p ON co.patisserie_id = p.id GROUP BY cl.id, cl.nom\",\n    \"SELECT ville, COUNT(*) AS nb FROM boulangeries GROUP BY ville HAVING COUNT(*) >= 2\",\n  ],\n};\n","import { exo_pokemon, exo_pokemon_group } from \"./pokemon\";\nimport { exo_concours, exo_concours_group, exo_concours_nested } from \"./concours\";\nimport { exo_fonciere } from \"./fonciere\";\nimport { exo_pays } from \"./pays\"\nimport { exo_metro } from \"./metro\";\nimport { exo_cac40, exo_cac40_group, exo_cac40_join } from \"./cac40\";\nimport { exo_boulangerie, exo_boulangerie_join, exo_boulangerie_group } from \"./boulangerie\";\n\nexport interface Exo_interface {\n  name: string;\n  diagram: string;\n  db_url: string;\n  description: JSX.Element;\n  questions: string[];\n  answers: string[];\n}\n\nexport const cours = [\n    { name: \"Requêtes sur une table\", url: \"cours/1_select/select.pdf\", exos: [exo_metro, exo_pays, exo_cac40, exo_boulangerie] },\n    { name: \"Plusieurs tables\", url: \"cours/2_join/join.pdf\", exos: [exo_concours, exo_pokemon, exo_cac40_join, exo_boulangerie_join] },\n    { name: \"Fonctions d'agrégation\", url: \"cours/3_groupby/groupby.pdf\", exos: [exo_concours_group, exo_pokemon_group, exo_cac40_group, exo_boulangerie_group] },\n    { name: \"Requêtes imbriquées\", url: \"cours/4_imbrique/imbrique.pdf\", exos: [exo_concours_nested] },\n    { name: \"Résumé\", url: \"resume/sql_resume.pdf\", exos: [] },\n];\n\nexport const exercices_other = [exo_fonciere];\n","import React from \"react\";\nimport \"./styles.css\";\nimport Exo from \"./components/exo\";\nimport { cours } from \"./exos/exos\";\n\nimport AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport Divider from \"@mui/material/Divider\";\nimport Drawer from \"@mui/material/Drawer\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Typography from \"@mui/material/Typography\";\nimport IconButton from \"@mui/material/IconButton\";\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport GithubCorner from \"react-github-corner\";\nimport { Grid } from \"@mui/material\";\nimport SvgIcon, { SvgIconProps } from '@mui/material/SvgIcon';\n\nfunction HomeIcon(props: SvgIconProps) {\n    return (\n        <SvgIcon {...props}>\n            <path d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\" />\n        </SvgIcon>\n    );\n}\n\nconst drawerWidth = 240;\n\nexport default function App(props) {\n    const { window } = props;\n    const [mobileOpen, setMobileOpen] = React.useState(false);\n    const [selectedExo, setSelectedExo] = React.useState(null);\n\n    const handleDrawerToggle = () => {\n        setMobileOpen(!mobileOpen);\n    };\n\n    const container =\n        window !== undefined ? () => window().document.body : undefined;\n\n    const exercise = (e: any) => {\n        return <ListItem key={e.questions[0]} disablePadding>\n            <ListItemButton disableRipple selected={selectedExo === e} onClick={(_) => { setSelectedExo(e); setMobileOpen(false) }}>\n                Exercice : {e.name}\n            </ListItemButton>\n        </ListItem>\n    }\n\n    const drawer = (\n        <div>\n            <List>\n                {cours.map((c) => (\n                    <div>\n                        <ListItem key={c.name} disablePadding>\n                            <ListItemText primary={\n                                <Grid container justifyContent=\"center\" alignItems=\"center\" sx={{ fontWeight: 'bold' }}>\n                                    <Typography style={{ fontWeight: \"bold\" }}>{c.name}</Typography>\n                                </Grid>\n                            } />\n                        </ListItem>\n                        <ListItem key={c.name + '2'} disablePadding>\n                            <ListItemButton disableRipple selected={selectedExo === c} onClick={(_) => { setSelectedExo(c); setMobileOpen(false) }}>\n                                Cours\n                            </ListItemButton>\n                        </ListItem>\n                        {c.exos.map(exercise)}\n                        <Divider sx={{ border: 1 }} />\n                    </div>\n                ))}\n            </List>\n        </div>\n    );\n\n    let main = (<div>\n        Ce site propose des cours et exercices interactifs pour apprendre SQL et comprendre le fonctionnement des bases de données.\n        <br />\n        Il est conforme au programme de CPGE (filières MP2I, MP, PC, PSI, PT, BCPST).\n        <br />\n        <b>Attention : dans vos réponses, les colonnes doivent apparaître dans le même ordre que dans la question.</b><br />\n        <a href=\"https://github.com/sql-exercices/sql-exercices.github.io/issues\">Signaler un problème</a><br />\n        <a href=\"https://github.com/fortierq/datasets\">Bases de données utilisées</a><br />\n        <a href=\"https://github.com/sql-exercices/sql-exercices.github.io/tree/main/src/exos\">Contribuer en ajoutant un exercice ou des questions (par pull request)</a><br />\n        <a href=\"https://fortierq.github.io/teaching\">Mes autres cours</a>\n    </div>)\n    if (selectedExo) {\n        if ('url' in selectedExo)\n            main = (<iframe src={`https://mozilla.github.io/pdf.js/web/viewer.html?file=https://raw.githubusercontent.com/fortierq/cours/main/sql/${selectedExo.url}#zoom=page-fit&pagemode=none`} width=\"100%\" height=\"700\" />)\n        else\n            main = (<Exo key={selectedExo.questions[0]} {...selectedExo} />)\n    }\n    return (\n        <div>\n            <Box sx={{ display: \"flex\" }}>\n                <CssBaseline />\n                <AppBar\n                    position=\"fixed\"\n                    sx={{\n                        width: { sm: `calc(100% - ${drawerWidth}px)` },\n                        ml: { sm: `${drawerWidth}px` },\n                        height: 60,\n                    }}\n                >\n                    <Toolbar>\n                        <GithubCorner\n                            href=\"https://github.com/sql-exercices/sql-exercices.github.io\"\n                            direction=\"right\"\n                            size=\"60\"\n                        />\n                        <IconButton\n                            color=\"inherit\"\n                            aria-label=\"open drawer\"\n                            edge=\"start\"\n                            onClick={handleDrawerToggle}\n                            sx={{ mr: 2, display: { sm: \"none\" } }}\n                        >\n                            <MenuIcon />\n                        </IconButton>\n                        <IconButton\n                            disableRipple\n                            color=\"inherit\"\n                            aria-label=\"open drawer\"\n                            edge=\"start\"\n                            onClick={(_) => { setSelectedExo(null) }}\n                            sx={{ mr: 1 }}\n                        >\n                            <HomeIcon fontSize=\"large\" />\n                        </IconButton>\n                        <Typography variant=\"h6\" noWrap component=\"div\">\n                            {/* {selectedExo ? selectedExo : \"Cours de bases de données et exercices SQL\"} */}\n                            Cours et exercices SQL\n                        </Typography>\n                    </Toolbar>\n                </AppBar>\n\n                <Box\n                    component=\"nav\"\n                    sx={{ width: { sm: drawerWidth }, flexShrink: { sm: 0 } }}\n                >\n                    {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n                    <Drawer\n                        container={container}\n                        variant=\"temporary\"\n                        open={mobileOpen}\n                        onClose={handleDrawerToggle}\n                        ModalProps={{\n                            keepMounted: true, // Better open performance on mobile.\n                        }}\n                        sx={{\n                            display: { xs: \"block\", sm: \"none\" },\n                            \"& .MuiDrawer-paper\": {\n                                boxSizing: \"border-box\",\n                                width: drawerWidth,\n                            },\n                        }}\n                    >\n                        {drawer}\n                    </Drawer>\n                    <Drawer\n                        variant=\"permanent\"\n                        sx={{\n                            display: { xs: \"none\", sm: \"block\" },\n                            \"& .MuiDrawer-paper\": {\n                                boxSizing: \"border-box\",\n                                width: drawerWidth,\n                                border: 1.5,\n                            },\n                        }}\n                        open\n                    >\n                        {drawer}\n                    </Drawer>\n                </Box>\n                <Box\n                    component=\"main\"\n                    sx={{\n                        flexGrow: 1,\n                        p: 3,\n                        width: { sm: `calc(100% - ${drawerWidth}px)` },\n                    }}\n                >\n                    <Toolbar />\n                    {main}\n                </Box>\n            </Box>\n        </div>\n    );\n}\n","import React from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport App from \"./App\";\n\nconst container = document.getElementById(\"root\");\nconst root = createRoot(container);\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"sourceRoot":""}