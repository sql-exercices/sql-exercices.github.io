(this.webpackJsonpsql_exercises=this.webpackJsonpsql_exercises||[]).push([[0],{210:function(e,n,s){},217:function(e,n){},219:function(e,n){},230:function(e,n){},232:function(e,n){},257:function(e,n){},259:function(e,n){},260:function(e,n){},265:function(e,n){},267:function(e,n){},273:function(e,n){},275:function(e,n){},294:function(e,n){},306:function(e,n){},309:function(e,n){},322:function(e,n,s){"use strict";s.r(n);var i=s(0),t=s.n(i),r=s(180),c=s(14),a=s(17),o=(s(210),s(114)),l=s(183),d=s(184),u=s.n(d),f=s(185),p=s(384),m=s(388),b=s(390),O=s(379),j=s(192),h=s(187),x=s.n(h),E=s(380),R=s(385),N=s(387),_=s(381),v=s(389),g=s(396),S=s(398),C=s(402),A=s(401),M=s(397),q=s(399),I=s(400),T=s(1),L=function(e){var n=e.columns,s=e.values;return Object(T.jsx)(g.a,{elevation:3,sx:{width:"100%"},children:Object(T.jsx)(M.a,{sx:{maxHeight:250},children:Object(T.jsxs)(S.a,{size:"small",stickyHeader:!0,"aria-label":"sticky table",children:[Object(T.jsx)(q.a,{children:Object(T.jsx)(I.a,{children:n.map((function(e,n){return Object(T.jsx)(A.a,{align:"center",sx:{fontWeight:"bold",fontSize:16},children:e},n)}))})}),Object(T.jsx)(C.a,{children:s.map((function(e,n){return Object(T.jsx)(I.a,{hover:!0,role:"checkbox",tabIndex:-1,children:e.map((function(e,n){return Object(T.jsx)(A.a,{align:"center",children:e},n)}))},n)}))})]})})})},y=s(317);function w(e){return e.map((function(e){return e.map((function(e){return"number"===typeof e?Math.round(100*e)/100:e}))}))}var F=function(e){var n=e.name,s=e.db,r=e.question,a=e.answer,o=Object(i.useState)(""),l=Object(c.a)(o,2),d=l[0],u=l[1],f=Object(i.useState)(null),b=Object(c.a)(f,2),O=b[0],h=b[1],g=Object(i.useState)(null),S=Object(c.a)(g,2),C=S[0],A=S[1],M=Object(i.useState)(0),q=Object(c.a)(M,2),I=q[0],F=q[1],J=Object(i.useState)(null),D=Object(c.a)(J,2),k=D[0],P=D[1],H=Object(i.useState)(!1),W=Object(c.a)(H,2),B=W[0],U=W[1],Y=function(e,n){"clickaway"!==n&&U(!1)},G=Object(T.jsx)(t.a.Fragment,{children:Object(T.jsx)(N.a,{size:"small","aria-label":"close",color:"inherit",onClick:Y,children:Object(T.jsx)(x.a,{fontSize:"small"})})}),z="success",V="Correct !";return k?(z="error",V="Erreur : "+k):0===I&&(z="warning",V="Mauvais r\xe9sultat."),Object(T.jsxs)(m.a,{mb:4,children:[Object(T.jsx)(_.a,{open:B,autoHideDuration:6e3,action:G,children:Object(T.jsx)(E.a,{onClose:Y,severity:z,sx:{width:"100%"},children:V})}),Object(T.jsxs)(p.a,{container:!0,justifyContent:"center",alignItems:"center",sx:{m:2,fontWeight:"bold"},children:[r,Object(T.jsxs)(p.a,{spacing:2,mb:5,container:!0,justifyContent:"center",alignItems:"center",children:[Object(T.jsx)(p.a,{item:!0,xs:10,children:Object(T.jsx)(m.a,{sx:{border:1,width:"100%"},p:.5,children:Object(T.jsx)(j.a,{height:"13vh",defaultLanguage:"sql",onChange:function(e){return u(e)},options:{lineNumbers:"off",minimap:{enabled:!1}}})})}),Object(T.jsx)(p.a,{item:!0,children:Object(T.jsx)(R.a,{size:"large",variant:"contained",color:"success",onClick:function(){U(!1);try{var e=s.exec(a),n=s.exec(d);h(n),A(e),0===n.length?F(0):F(y(w(n[0].values),w(e[0].values))?1:0),P(null)}catch(i){console.log(i),P(i.message)}U(!0)},children:"Valider"})})]}),Object(T.jsxs)(p.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:2,direction:"row",children:[O&&Object(T.jsx)(p.a,{item:!0,md:5.5,xs:12,children:Object(T.jsxs)(v.a,{align:"center",children:[O.map((function(e){var n=e.columns,s=e.values;return Object(T.jsx)(L,{columns:n,values:s})})),Object(T.jsx)("br",{}),"R\xe9sultat de votre requ\xeate"]})}),C&&Object(T.jsx)(p.a,{item:!0,md:5.5,xs:12,children:Object(T.jsxs)(v.a,{align:"center",children:[C.map((function(e){var n=e.columns,s=e.values;return Object(T.jsx)(L,{columns:n,values:s})})),Object(T.jsx)("br",{}),"R\xe9sultat attendu"]})})]})]})]},n)},J=function(e){var n=Object(i.useState)(1),s=Object(c.a)(n,2),t=s[0],r=s[1],a=Object(i.useState)(null),d=Object(c.a)(a,2),j=d[0],h=d[1];return Object(i.useEffect)((function(){Object(l.a)(Object(o.a)().mark((function n(){var s,i,t,r,a,l,d;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=u()({locateFile:function(){return f.a}}),i=fetch(e.db_url).then((function(e){return e.text()})),n.next=4,Promise.all([s,i]);case 4:t=n.sent,r=Object(c.a)(t,2),a=r[0],l=r[1],(d=new a.Database).exec(l),h(d);case 11:case"end":return n.stop()}}),n)})))()}),[]),Object(T.jsxs)("div",{children:[Object(T.jsxs)(p.a,{container:!0,justifyContent:"center",alignItems:"center",children:[e.description&&Object(T.jsx)(p.a,{item:!0,sm:4,xs:12,children:Object(T.jsx)(m.a,{sx:{borderLeft:2.5,borderColor:"gray",padding:2},children:e.description})}),Object(T.jsx)(p.a,{item:!0,sm:8,xs:12,children:e.diagram&&Object(T.jsx)("iframe",{width:"100%",height:"450",src:"https://dbdiagram.io/embed/"+e.diagram})})]}),Object(T.jsx)(b.a,{sx:{m:2}}),Object(T.jsx)(p.a,{container:!0,justifyContent:"center",alignItems:"center",children:Object(T.jsx)(O.a,{siblingCount:e.questions.length,count:e.questions.length,page:t,onChange:function(e,n){r(n)}})}),e.questions.map((function(n,s){return Object(T.jsx)("div",{style:{display:s+1===t?"block":"none"},children:Object(T.jsx)(F,{name:e.name,db:j,question:e.questions[s],answer:e.answers[s]})})}))]},e.name)},D={name:"Pok\xe9mon",description:Object(T.jsx)("div",{children:"Base de donn\xe9es contenant les pok\xe9mons de la 1\xe8re g\xe9n\xe9ration."}),db_url:"https://raw.githubusercontent.com/fortierq/datasets/main/pokemon/pokemon.sql",diagram:"62853fe17f945876b6459548",questions:["Calculer le nombre de pok\xe9mons.","Afficher le nom de chaque pok\xe9mon avec son niveau d'\xe9volution.","Afficher les pok\xe9mons d\xe9tenus par Pierre.","Afficher le nom de chaque attaque avec son type.","Afficher chaque dresseur avec chacun de ses pok\xe9mons.","Afficher chaque pok\xe9mon avec son \xe9volution et son niveau d'\xe9volution."],answers:["SELECT count(*) FROM pokemons;","select nom, niveau from evolue_en join pokemons on id = pokemon_base_id","SELECT pokemons.nom FROM pokemons JOIN detient_pokemons ON pokemons.id = pokemon_id JOIN dresseurs ON dresseurs.id = dresseur_id WHERE dresseurs.nom = 'Pierre'","select attaques.libelle, types.libelle from types join attaques on types.id = type_id","select dresseurs.nom, pokemons.nom from pokemons join detient_pokemons on pokemons.id = pokemon_id join dresseurs on dresseurs.id = dresseur_id","select pokemons.nom, pokemons_evol.nom, niveau from evolue_en join pokemons on pokemon_base_id = pokemons.id join pokemons as pokemons_evol on pokemon_evol_id = pokemons_evol.id"]},k=Object(a.a)(Object(a.a)({},D),{},{questions:["Afficher chaque dresseur avec son nombre de pok\xe9mons et leur niveau moyen.","Afficher les dresseurs qui poss\xe8dent au moins 4 pok\xe9mons de niveau au moins 50."],answers:["select nom, count(*) as nombre_pokemons, avg(niveau) as niveau_moyen from dresseurs join detient_pokemons on id = dresseur_id group by nom","select nom, count(*) from dresseurs join detient_pokemons on id = dresseur_id where niveau >= 50 group by nom having count(*) > 3"]}),P={name:"Concours",description:Object(T.jsxs)("div",{children:["Statistiques partielles sur les concours des \xe9coles d'ing\xe9nieurs en 2022. ",Object(T.jsx)("br",{})," ",Object(T.jsx)("a",{href:"https://www.scei-concours.fr/statistiques.php",children:"Source : SCEI"}),". "]}),db_url:"https://raw.githubusercontent.com/fortierq/datasets/main/concours/concours.sql",diagram:"642ec2708615191cfa8bf1a2",questions:["Afficher les noms des concours dans la base de donn\xe9es.","Afficher les \xe9preuves \xe0 l'\xe9crit de cmp (Concours Mines-Ponts) : fili\xe8re, mati\xe8re, dur\xe9e et coefficient.","Donner le coefficient total des math\xe9matiques au concours ccinp."],answers:["select distinct nom from concours;","SELECT filiere, matiere, duree, coefficient FROM epreuve JOIN concours ON concours_id=concours.id JOIN epreuve_matiere ON epreuve_id=epreuve.id WHERE concours.nom = 'cmp' AND NOT oral","SELECT SUM(coefficient) as 'coefficient des math\xe9matiques' FROM epreuve JOIN concours ON concours_id=concours.id JOIN epreuve_matiere ON epreuve_id=epreuve.id WHERE concours.nom='ccinp' AND matiere='math\xe9matiques';"]},H=Object(a.a)(Object(a.a)({},P),{},{questions:["Afficher le coefficient total de chaque mati\xe8re pour la fili\xe8re mpi du concours ccinp.","Pour chaque concours, afficher le nom, la fili\xe8re, le nombre d'\xe9preuves \xe9crites et leur dur\xe9e totale."],answers:["SELECT matiere, SUM(coefficient) as 'coefficient total' FROM epreuve JOIN concours ON concours_id=concours.id JOIN epreuve_matiere ON epreuve_id=epreuve.id WHERE concours.nom='ccinp' AND filiere = 'mpi' GROUP BY matiere;","SELECT concours.nom, filiere, COUNT(*) as 'nombre \xe9preuves', SUM(duree) as 'dur\xe9e totale' FROM epreuve JOIN concours ON concours_id=concours.id WHERE NOT oral GROUP BY concours_id;"]}),W=Object(a.a)(Object(a.a)({},P),{},{questions:["Donner le poids de chaque mati\xe8re en fili\xe8re mp du concours ccinp, en pourcentage."],answers:["SELECT matiere, SUM(coefficient) * 100 / (SELECT SUM(coefficient) FROM epreuve JOIN concours ON concours_id=concours.id JOIN epreuve_matiere ON epreuve_id=epreuve.id WHERE concours.nom='ccinp' AND filiere='mp') as 'poids en pourcentage' FROM epreuve JOIN concours ON concours_id=concours.id JOIN epreuve_matiere ON epreuve_id=epreuve.id WHERE concours.nom='ccinp' AND filiere='mp' GROUP BY matiere;","SELECT matiere, (SUM(coefficient) * 100 / (SELECT SUM(coefficient) FROM epreuve JOIN concours ON concours_id=concours.id JOIN epreuve_matiere ON epreuve_id=epreuve.id WHERE concours.nom='ccinp' AND filiere='mp') as 'poids en pourcentage' FROM epreuve JOIN concours ON concours_id=concours.id JOIN epreuve_matiere ON epreuve_id=epreuve.id WHERE concours.nom='ccinp' AND filiere='mp' GROUP BY matiere;"]}),B={name:"Pays",description:Object(T.jsxs)("div",{children:["Base de donn\xe9es contenant les pays du monde et leurs populations en 2015.",Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)("code",{children:"croissance_population"}),", ",Object(T.jsx)("code",{children:"taux_naissance"}),", ",Object(T.jsx)("code",{children:"taux_deces"})," et ",Object(T.jsx)("code",{children:"taux_migration"})," sont en pourcentage (si ",Object(T.jsx)("code",{children:"croissance_population"})," vaut 2% alors la population a augment\xe9 de 2% durant l'ann\xe9e).",Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)("a",{href:"https://www.cia.gov/the-world-factbook",children:"Source : CIA"}),"."]}),db_url:"https://raw.githubusercontent.com/fortierq/datasets/main/pays/pays.sql",diagram:"642c778b5758ac5f1726bc6c",questions:["Afficher le nom, la population et la surface de chaque pays.","Afficher le nom et la population des pays ayant moins de 2000 d'habitants.","Afficher les pays dont le taux de naissance est inf\xe9rieur au taux de d\xe9c\xe8s.","Afficher la population totale sur Terre, en milliards. On pourra diviser par 1e9.","Afficher le nombre total de naissances sur Terre en 2015, en milliards.","Afficher les 10 pays de plus de 5 millions d'habitants ayant eu le plus fort taux de migration. On affichera aussi le taux de migration.","Afficher les 10 pays d'au moins 5 millions d'habitants ayant la plus forte densit\xe9 de population. On affichera aussi la densit\xe9."],answers:["SELECT nom, population, surface FROM pays","SELECT nom, population FROM pays WHERE population <= 2000","select nom from pays where taux_naissance < taux_deces","select sum(population)/1e9 as 'population totale' from pays","select sum(population*taux_naissance/100.)/1e9 as 'nombre de naissances' from pays","select nom, taux_migration from pays where population > 5e6 order by taux_migration desc limit 10","select nom, population/surface as densit\xe9 from pays where population > 5e6 order by densit\xe9 desc limit 10"]},U={name:"M\xe9tro parisien",description:Object(T.jsxs)(p.a,{children:["Cette base de donn\xe9es contient une table ",Object(T.jsx)("code",{children:"metro"})," contenant les stations de m\xe9tro et RER parisiennes. Attributs de la table :",Object(T.jsxs)("ul",{children:[Object(T.jsxs)("li",{children:[Object(T.jsx)("code",{children:"station"})," : nom de la station"]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("code",{children:"reseau"})," : ",Object(T.jsx)("code",{children:"'M\xe9tro'"})," ou ",Object(T.jsx)("code",{children:"'Rer'"})]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("code",{children:"trafic"})," : nombre de passagers en 2021"]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("code",{children:"ville"})," : ville de la station (exemples :"," ",Object(T.jsx)("code",{children:"'Paris'"}),")"]}),Object(T.jsxs)("li",{children:[Object(T.jsx)("code",{children:"arrondissement"})," : arrondissement de la station (uniquement pour Paris)"]})]}),Object(T.jsx)("a",{href:"https://www.data.gouv.fr/fr/datasets/stations-de-metro",children:"Source : data.gouv"}),"."]}),db_url:"https://raw.githubusercontent.com/fortierq/datasets/main/metro_paris/metro_paris.sql",diagram:"630e18a30911f91ba5f92ffa",questions:["Afficher toutes les stations.","Afficher les stations de la ville de Massy.","Afficher les stations de RER du 5\xe8me arrondissement de Paris.","Combien y a-t-il eu de passagers dans la ville de Saint Denis ?","Afficher le nom et la ville de toutes les stations en dehors de Paris avec un trafic sup\xe9rieur \xe0 10 millions","Afficher la station et le trafic de la station la plus fr\xe9quent\xe9e."],answers:["SELECT station FROM metro","SELECT station FROM metro WHERE ville = 'Massy'","SELECT station FROM metro WHERE arrondissement = 5 AND reseau = 'Rer'","SELECT SUM(trafic) as 'Nombre de passagers' FROM metro WHERE ville = 'Saint Denis'","SELECT station, ville FROM metro WHERE ville != 'Paris' AND trafic > 10000000","SELECT station, trafic FROM metro ORDER BY trafic DESC LIMIT 1"]},Y={name:"CAC 40",description:Object(T.jsxs)("div",{children:["Base de donn\xe9es contenant les entreprises du CAC 40 et leurs donn\xe9es financi\xe8res historiques (2020-2024).",Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)("b",{children:"Entreprises"})," : informations g\xe9n\xe9rales sur chaque entreprise (secteur, date de cr\xe9ation, si\xe8ge social).",Object(T.jsx)("br",{}),Object(T.jsx)("b",{children:"Finances"})," : donn\xe9es financi\xe8res annuelles (chiffre d'affaires, b\xe9n\xe9fice net, dette, capitaux propres).",Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),"Les montants sont en millions d'euros.",Object(T.jsx)("br",{}),"La ",Object(T.jsx)("b",{children:"marge nette"})," = b\xe9n\xe9fice net / chiffre d'affaires \xd7 100 (en %).",Object(T.jsx)("br",{}),"Le ",Object(T.jsx)("b",{children:"ratio dette/capitaux propres"})," mesure l'endettement de l'entreprise.",Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)("a",{href:"https://www.boursorama.com",children:"Source : donn\xe9es publiques des entreprises"}),"."]}),db_url:"cac40.sql",diagram:"6962c115d6e030a024a8eb65",questions:["Afficher le nom et le secteur de chaque entreprise du CAC 40.","Afficher les entreprises du secteur 'Luxe'.","Afficher les entreprises cr\xe9\xe9es avant 1900, tri\xe9es par date de cr\xe9ation.","Afficher le chiffre d'affaires total de toutes les entreprises du CAC 40 en 2023, en milliards d'euros.","Afficher les 5 entreprises ayant r\xe9alis\xe9 le plus gros b\xe9n\xe9fice net en 2023.","Afficher le nom et la marge nette (b\xe9n\xe9fice/chiffre d'affaires \xd7 100) des entreprises en 2023, tri\xe9es par marge d\xe9croissante. Limiter aux 10 premi\xe8res.","Afficher les entreprises dont le b\xe9n\xe9fice a augment\xe9 entre 2022 et 2023.","Afficher le chiffre d'affaires moyen par secteur en 2023, tri\xe9 par chiffre d'affaires d\xe9croissant.","Afficher les entreprises dont la dette d\xe9passe les capitaux propres en 2023.","Afficher l'\xe9volution du b\xe9n\xe9fice total du CAC 40 par ann\xe9e."],answers:["SELECT nom, secteur FROM entreprises","SELECT nom FROM entreprises WHERE secteur = 'Luxe'","SELECT nom, date_creation FROM entreprises WHERE date_creation < 1900 ORDER BY date_creation","SELECT SUM(chiffre_affaires) / 1000 AS ca_milliards FROM finances WHERE annee = 2023","SELECT e.nom, f.benefice_net FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE f.annee = 2023 ORDER BY f.benefice_net DESC LIMIT 5","SELECT e.nom, (f.benefice_net * 100.0 / f.chiffre_affaires) AS marge_nette FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE f.annee = 2023 ORDER BY marge_nette DESC LIMIT 10","SELECT e.nom FROM entreprises e JOIN finances f22 ON e.id = f22.entreprise_id JOIN finances f23 ON e.id = f23.entreprise_id WHERE f22.annee = 2022 AND f23.annee = 2023 AND f23.benefice_net > f22.benefice_net","SELECT e.secteur, AVG(f.chiffre_affaires) AS ca_moyen FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE f.annee = 2023 GROUP BY e.secteur ORDER BY ca_moyen DESC","SELECT e.nom, f.dette, f.capitaux_propres FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE f.annee = 2023 AND f.dette > f.capitaux_propres","SELECT annee, SUM(benefice_net) AS benefice_total FROM finances GROUP BY annee ORDER BY annee"]},G=Object(a.a)(Object(a.a)({},Y),{},{name:"CAC 40 (jointures)",questions:["Afficher le nom et le chiffre d'affaires de chaque entreprise en 2024.","Afficher le nom des entreprises du secteur 'Luxe' avec leur b\xe9n\xe9fice en 2024.","Afficher le nom et la capitalisation des entreprises ayant plus de 100000 employ\xe9s en 2024.","Afficher les entreprises dont le b\xe9n\xe9fice a \xe9t\xe9 n\xe9gatif en 2024.","Afficher le nom, secteur et dividende des 5 entreprises avec le meilleur dividende en 2024.","Afficher les entreprises du secteur 'Banque' avec leur chiffre d'affaires en 2023 et 2024.","Afficher le nom des entreprises dont la dette a diminu\xe9 entre 2023 et 2024.","Afficher le nom et le ratio dette/capitaux_propres des entreprises en 2024, tri\xe9 par ratio d\xe9croissant."],answers:["SELECT e.nom, f.chiffre_affaires FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE f.annee = 2024","SELECT e.nom, f.benefice FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE e.secteur = 'Luxe' AND f.annee = 2024","SELECT e.nom, f.capitalisation FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE e.employes > 100000 AND f.annee = 2024","SELECT e.nom, f.benefice FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE f.annee = 2024 AND f.benefice < 0","SELECT e.nom, e.secteur, f.dividende FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE f.annee = 2024 ORDER BY f.dividende DESC LIMIT 5","SELECT e.nom, f23.chiffre_affaires AS ca_2023, f24.chiffre_affaires AS ca_2024 FROM entreprises e JOIN finances f23 ON e.id = f23.entreprise_id JOIN finances f24 ON e.id = f24.entreprise_id WHERE e.secteur = 'Banque' AND f23.annee = 2023 AND f24.annee = 2024","SELECT e.nom FROM entreprises e JOIN finances f23 ON e.id = f23.entreprise_id JOIN finances f24 ON e.id = f24.entreprise_id WHERE f23.annee = 2023 AND f24.annee = 2024 AND f24.dette < f23.dette","SELECT e.nom, (f.dette * 1.0 / f.capitaux_propres) AS ratio FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE f.annee = 2024 AND f.capitaux_propres > 0 ORDER BY ratio DESC"]}),z=Object(a.a)(Object(a.a)({},Y),{},{questions:["Afficher le nombre d'entreprises par secteur.","Afficher le secteur ayant g\xe9n\xe9r\xe9 le plus de b\xe9n\xe9fices cumul\xe9s sur 2020-2024.","Afficher les entreprises ayant eu un b\xe9n\xe9fice positif chaque ann\xe9e de 2020 \xe0 2024.","Afficher le ratio moyen dette/capitaux propres par secteur en 2023, tri\xe9 par ratio d\xe9croissant."],answers:["SELECT secteur, COUNT(*) AS nb_entreprises FROM entreprises GROUP BY secteur","SELECT e.secteur, SUM(f.benefice_net) AS benefice_total FROM entreprises e JOIN finances f ON e.id = f.entreprise_id GROUP BY e.secteur ORDER BY benefice_total DESC LIMIT 1","SELECT e.nom FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE f.benefice_net > 0 GROUP BY e.nom HAVING COUNT(*) = 5","SELECT e.secteur, AVG(f.dette * 1.0 / f.capitaux_propres) AS ratio_dette FROM entreprises e JOIN finances f ON e.id = f.entreprise_id WHERE f.annee = 2023 AND f.capitaux_propres > 0 GROUP BY e.secteur ORDER BY ratio_dette DESC"]}),V={name:"Boulangerie",description:Object(T.jsxs)("div",{children:["Base de donn\xe9es d'une cha\xeene de boulangeries.",Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)("b",{children:"Boulangeries"})," : les diff\xe9rentes boulangeries (nom, ville, nombre d'employ\xe9s).",Object(T.jsx)("br",{}),Object(T.jsx)("b",{children:"P\xe2tisseries"})," : les produits vendus (nom, prix en euros, calories).",Object(T.jsx)("br",{}),Object(T.jsx)("b",{children:"Clients"})," : les clients enregistr\xe9s (nom, pr\xe9nom, ville).",Object(T.jsx)("br",{}),Object(T.jsx)("b",{children:"Commandes"})," : les achats effectu\xe9s (client, boulangerie, p\xe2tisserie, quantit\xe9, date)."]}),db_url:"boulangerie.sql",diagram:"6962cb2cd6e030a024a929d6",questions:["Afficher le nom et la ville de chaque boulangerie.","Afficher les p\xe2tisseries co\xfbtant moins de 3 euros.","Afficher les p\xe2tisseries tri\xe9es par calories d\xe9croissantes.","Afficher les clients habitant \xe0 Paris.","Afficher les boulangeries ayant plus de 5 employ\xe9s."],answers:["SELECT nom, ville FROM boulangeries","SELECT nom, prix FROM patisseries WHERE prix < 3","SELECT nom, calories FROM patisseries ORDER BY calories DESC","SELECT nom, prenom FROM clients WHERE ville = 'Paris'","SELECT nom, employes FROM boulangeries WHERE employes > 5"]},Q=[{name:"Requ\xeates sur une table",url:"cours/1_select/select.pdf",exos:[U,B,Y,V]},{name:"Plusieurs tables",url:"cours/2_join/join.pdf",exos:[P,D,G,Object(a.a)(Object(a.a)({},V),{},{name:"Boulangerie",questions:["Afficher le pr\xe9nom du client et le nom de la p\xe2tisserie pour chaque commande.","Afficher les commandes pass\xe9es dans des boulangeries de Paris (nom du client, nom de la boulangerie).","Afficher le nom des clients ayant command\xe9 des croissants.","Afficher le nom des p\xe2tisseries command\xe9es \xe0 la boulangerie 'Au Pain Dor\xe9'.","Afficher les clients ayant command\xe9 dans une boulangerie de leur propre ville.","Afficher le nom du client, la p\xe2tisserie et le prix total (prix \xd7 quantit\xe9) pour chaque commande.","Afficher les p\xe2tisseries jamais command\xe9es.","Afficher le nom des clients ayant command\xe9 des p\xe2tisseries \xe0 plus de 400 calories."],answers:["SELECT cl.prenom, p.nom FROM commandes co JOIN clients cl ON co.client_id = cl.id JOIN patisseries p ON co.patisserie_id = p.id","SELECT cl.nom, b.nom FROM commandes co JOIN clients cl ON co.client_id = cl.id JOIN boulangeries b ON co.boulangerie_id = b.id WHERE b.ville = 'Paris'","SELECT DISTINCT cl.nom FROM commandes co JOIN clients cl ON co.client_id = cl.id JOIN patisseries p ON co.patisserie_id = p.id WHERE p.nom = 'Croissant'","SELECT DISTINCT p.nom FROM commandes co JOIN boulangeries b ON co.boulangerie_id = b.id JOIN patisseries p ON co.patisserie_id = p.id WHERE b.nom = 'Au Pain Dor\xe9'","SELECT DISTINCT cl.nom, cl.prenom FROM commandes co JOIN clients cl ON co.client_id = cl.id JOIN boulangeries b ON co.boulangerie_id = b.id WHERE cl.ville = b.ville","SELECT cl.nom, p.nom, p.prix * co.quantite AS total FROM commandes co JOIN clients cl ON co.client_id = cl.id JOIN patisseries p ON co.patisserie_id = p.id","SELECT p.nom FROM patisseries p LEFT JOIN commandes co ON p.id = co.patisserie_id WHERE co.id IS NULL","SELECT DISTINCT cl.nom FROM commandes co JOIN clients cl ON co.client_id = cl.id JOIN patisseries p ON co.patisserie_id = p.id WHERE p.calories > 400"]})]},{name:"Fonctions d'agr\xe9gation",url:"cours/3_groupby/groupby.pdf",exos:[H,k,z,Object(a.a)(Object(a.a)({},V),{},{name:"Boulangerie",questions:["Afficher le nombre de boulangeries par ville.","Afficher le nombre total de commandes par client (nom du client et nombre de commandes).","Afficher le chiffre d'affaires total par boulangerie (nom et total).","Afficher la p\xe2tisserie la plus command\xe9e (nom et quantit\xe9 totale).","Afficher le nombre de calories moyen des p\xe2tisseries command\xe9es par chaque client.","Afficher les villes ayant au moins 2 boulangeries."],answers:["SELECT ville, COUNT(*) AS nb FROM boulangeries GROUP BY ville","SELECT cl.nom, COUNT(*) AS nb_commandes FROM commandes co JOIN clients cl ON co.client_id = cl.id GROUP BY cl.id, cl.nom","SELECT b.nom, SUM(p.prix * co.quantite) AS total FROM commandes co JOIN boulangeries b ON co.boulangerie_id = b.id JOIN patisseries p ON co.patisserie_id = p.id GROUP BY b.id, b.nom","SELECT p.nom, SUM(co.quantite) AS total FROM commandes co JOIN patisseries p ON co.patisserie_id = p.id GROUP BY p.id, p.nom ORDER BY total DESC LIMIT 1","SELECT cl.nom, AVG(p.calories) AS calories_moy FROM commandes co JOIN clients cl ON co.client_id = cl.id JOIN patisseries p ON co.patisserie_id = p.id GROUP BY cl.id, cl.nom","SELECT ville, COUNT(*) AS nb FROM boulangeries GROUP BY ville HAVING COUNT(*) >= 2"]})]},{name:"Requ\xeates imbriqu\xe9es",url:"cours/4_imbrique/imbrique.pdf",exos:[W]},{name:"R\xe9sum\xe9",url:"resume/sql_resume.pdf",exos:[]}],K=s(394),X=s(393),Z=s(378),$=s(391),ee=s(382),ne=s(376),se=s(392),ie=s(395),te=s(191),re=s.n(te),ce=s(189),ae=s.n(ce),oe=s(196);function le(e){return Object(T.jsx)(oe.a,Object(a.a)(Object(a.a)({},e),{},{children:Object(T.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})}))}var de=240;function ue(e){var n=e.window,s=t.a.useState(!1),i=Object(c.a)(s,2),r=i[0],o=i[1],l=t.a.useState(null),d=Object(c.a)(l,2),u=d[0],f=d[1],O=function(){o(!r)},j=void 0!==n?function(){return n().document.body}:void 0,h=function(e){return Object(T.jsx)(ee.a,{disablePadding:!0,children:Object(T.jsxs)(ne.a,{disableRipple:!0,selected:u===e,onClick:function(n){f(e),o(!1)},children:["Exercice : ",e.name]})},e.questions[0])},x=Object(T.jsx)("div",{children:Object(T.jsx)($.a,{children:Q.map((function(e){return Object(T.jsxs)("div",{children:[Object(T.jsx)(ee.a,{disablePadding:!0,children:Object(T.jsx)(se.a,{primary:Object(T.jsx)(p.a,{container:!0,justifyContent:"center",alignItems:"center",sx:{fontWeight:"bold"},children:Object(T.jsx)(v.a,{style:{fontWeight:"bold"},children:e.name})})})},e.name),Object(T.jsx)(ee.a,{disablePadding:!0,children:Object(T.jsx)(ne.a,{disableRipple:!0,selected:u===e,onClick:function(n){f(e),o(!1)},children:"Cours"})},e.name+"2"),e.exos.map(h),Object(T.jsx)(b.a,{sx:{border:1}})]})}))})}),E=Object(T.jsxs)("div",{children:["Ce site propose des cours et exercices interactifs pour apprendre SQL et comprendre le fonctionnement des bases de donn\xe9es.",Object(T.jsx)("br",{}),"Il est conforme au programme de CPGE (fili\xe8res MP2I, MP, PC, PSI, PT, BCPST).",Object(T.jsx)("br",{}),Object(T.jsx)("b",{children:"Attention : dans vos r\xe9ponses, les colonnes doivent appara\xeetre dans le m\xeame ordre que dans la question."}),Object(T.jsx)("br",{}),Object(T.jsx)("a",{href:"https://github.com/sql-exercices/sql-exercices.github.io/issues",children:"Signaler un probl\xe8me"}),Object(T.jsx)("br",{}),Object(T.jsx)("a",{href:"https://github.com/fortierq/datasets",children:"Bases de donn\xe9es utilis\xe9es"}),Object(T.jsx)("br",{}),Object(T.jsx)("a",{href:"https://github.com/sql-exercices/sql-exercices.github.io/tree/main/src/exos",children:"Contribuer en ajoutant un exercice ou des questions (par pull request)"}),Object(T.jsx)("br",{}),Object(T.jsx)("a",{href:"https://fortierq.github.io/teaching",children:"Mes autres cours"})]});return u&&(E="url"in u?Object(T.jsx)("iframe",{src:"https://mozilla.github.io/pdf.js/web/viewer.html?file=https://raw.githubusercontent.com/fortierq/cours/main/sql/".concat(u.url,"#zoom=page-fit&pagemode=none"),width:"100%",height:"700"}):Object(T.jsx)(J,Object(a.a)({},u),u.questions[0])),Object(T.jsx)("div",{children:Object(T.jsxs)(m.a,{sx:{display:"flex"},children:[Object(T.jsx)(X.a,{}),Object(T.jsx)(K.a,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(de,"px)")},ml:{sm:"".concat(de,"px")},height:60},children:Object(T.jsxs)(ie.a,{children:[Object(T.jsx)(ae.a,{href:"https://github.com/sql-exercices/sql-exercices.github.io",direction:"right",size:"60"}),Object(T.jsx)(N.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:O,sx:{mr:2,display:{sm:"none"}},children:Object(T.jsx)(re.a,{})}),Object(T.jsx)(N.a,{disableRipple:!0,color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(e){f(null)},sx:{mr:1},children:Object(T.jsx)(le,{fontSize:"large"})}),Object(T.jsx)(v.a,{variant:"h6",noWrap:!0,component:"div",children:"Cours et exercices SQL"})]})}),Object(T.jsxs)(m.a,{component:"nav",sx:{width:{sm:de},flexShrink:{sm:0}},children:[Object(T.jsx)(Z.a,{container:j,variant:"temporary",open:r,onClose:O,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:de}},children:x}),Object(T.jsx)(Z.a,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:de,border:1.5}},open:!0,children:x})]}),Object(T.jsxs)(m.a,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(de,"px)")}},children:[Object(T.jsx)(ie.a,{}),E]})]})})}var fe=document.getElementById("root");Object(r.createRoot)(fe).render(Object(T.jsx)(t.a.StrictMode,{children:Object(T.jsx)(ue,{})}))}},[[322,1,2]]]);
//# sourceMappingURL=main.d7af71d7.chunk.js.map